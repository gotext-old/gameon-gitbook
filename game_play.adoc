= Game Play
:icons: font
:toc:
:toc-title:
:toc-placement: preamble
:toclevels: 2
:services: link:microservices/README.adoc
:swagger: https://gameontext.org/swagger/
:security: link:microservices/ApplicationSecurity.adoc
:registerRoom: link:walkthroughs/registerRoom.adoc
:mapService: link:microservices/Map.adoc
:mapClient: https://github.com/gameontext/regutil
:charm: https://en.wikibooks.org/wiki/Muggles%27_Guide_to_Harry_Potter/Magic/Permanent_Sticking_Charm

Games are meant to be played! The only objective for a game player is to be
entertained. There may be puzzles to solve, riddles to answer, cryptic speech
to decipher, whatever! It completely depends on what the developers of any given
room have decided to build.

== Navigation and common commands

Some commands will always be available. Those that are implemented by
{services}[core game services] (namely the Mediator) will also always behave the
same.

.Common commands provided by the game
[cols=".<m,.<2",options="header,footer"]
|==========================
|Command  |Description
|/help    |List available commands (will vary by room)
|/exits   |List room exits
|/sos     |Emergency rescue: will return you to First Room
|==========================

.Common commands provided by rooms: implementations will vary
[cols=".<m,.<2",options="header"]
|==========================
|Command    | Description
|/look      | Describe a room or an item. Implementations will vary
|/examine   | Examine an item. Implementations will vary: this may be similar to look, or may not work at all
|/go        | Exit the room using the specified door, e.g. `/go N`
|/inventory | List your inventory
|==========================


== First Room

First Room is a special room: it is located (and fixed with a
{charm}[permanent sticking charm]) at the origin of the map. It is the starting
place for every player joining the game, and is also where players return when
things go terribly wrong or call for a rescue (`/sos`).

First room also provides some useful custom commands for room developers.

.Custom commands for First Room to support room developers
[cols=".<m,.<2",options="header"]
|==========================
|Commands   | Description
| /listmyrooms | List all of your rooms
| /teleport    | Teleport to the specified room, e.g. `/teleport room-id`
| /deleteroom | Delete the specified room, e.g. `/deleteroom room-id`
|==========================


[[user-profile]]
== User profile

The [user-profile]#user icon# in the top-right of the game screen will take you to
your user profile page, which allows you to edit your user name and favorite color, and
provides controls for resetting your state (should things get irrecoverably
strange) and logging out.

It also displays the JSON Web Token (JWT) generated by your login. The game's
use of JWTs is described more in the {security}[Application Security] section.
We provide the JWT here so you can use it to test out requests requiring
authorization in the {swagger}[Swagger] API documentation.

[[shared-secret]]
== Room management

The [room-edit]#building icon# in the top right of the
application window will take you to a room management page that is broken into
two sections:

1. The small section at the top of the management page shows your user id
and a shared secret.
+
Room registrations are associated with an owner. The shared secret is used to
identify and authorize you to the Map service so that you can make changes to
rooms you have registered.
+
The room management page uses your shared secret for you when modifying your
room registrations, but if you wanted to try talking to the {swagger}[Map API] on your
own, or on the command line using the {mapClient}[map client],
you would need to copy this token.

2. The rest of the page is concerned with {registerRoom}[room registration attributes].
